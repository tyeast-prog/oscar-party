<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Oscar Party</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <div class="container">
    <header>
      <h1>Oscar Party</h1>
      <p>Your all-in-one awards night companion</p>
    </header>

    <div class="card-grid" id="cards">
      <!-- Guest Form -->
      <div class="card">
        <h3>Guest Form</h3>
        <p>RSVP, dietary info, and ballot predictions.</p>
        <span class="status" id="status-guests">0 guests</span>
        <a class="card-link" href="guest.html">Open Form</a>
      </div>

      <!-- Live Scoreboard -->
      <div class="card">
        <h3>Live Scoreboard</h3>
        <p>Watch the leaderboard update live on party night.</p>
        <span class="status" id="status-score">0 / 0 announced</span>
        <a class="card-link" href="scoreboard.html">Open Scoreboard</a>
      </div>
    </div>

    <div style="text-align:center;margin-top:3rem;padding-top:1rem;border-top:1px solid var(--medium-gray);">
      <p style="color:var(--medium-gray);font-size:0.8rem;">Admin:
        <a href="setup.html" style="color:var(--medium-gray);font-size:0.8rem;">Setup</a> &middot;
        <a href="admin.html" style="color:var(--medium-gray);font-size:0.8rem;">Dashboard</a>
      </p>
    </div>
  </div>

  <script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.14.1/firebase-firestore-compat.js"></script>
  <script src="js/firebase-config.js"></script>
  <script src="js/data.js"></script>
  <script>
    (function() {
      // Guest status
      const guestEl = document.getElementById('status-guests');
      const guests = OscarData.getGuests();
      const count = guests.length;
      guestEl.textContent = count + ' guest' + (count !== 1 ? 's' : '') + ' registered';
      if (count > 0) guestEl.classList.add('ok');

      // Scoreboard status
      const scoreEl = document.getElementById('status-score');
      const winners = OscarData.getWinners();
      const announced = Object.keys(winners).length;
      const total = OscarData.getCategories().length;
      scoreEl.textContent = announced + ' / ' + total + ' announced';
      if (announced > 0) scoreEl.classList.add('ok');
    })();
  </script>
</body>
</html>
